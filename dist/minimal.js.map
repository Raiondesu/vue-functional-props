{"version":3,"file":"minimal.js","sources":["../src/index.ts"],"sourcesContent":["import { Prop, FunctionalComponent, ExtractPropTypes } from 'vue';\n\n/**\n * Creates a TS-valid vue prop definition from a simple object\n * @param options simple vue property definition\n */\nexport const prop = <T>(options: Prop<T>) => options;\n\ntype ObjectPropsTemplate = Readonly<Record<string, Prop<any>>>;\n\ntype ArrayPropsTemplate = Readonly<Array<string>>;\n\ntype ExtractArrayPropTypes<P extends ArrayPropsTemplate> = {\n  [idx in Extract<keyof P, number>]: Record<P[idx], any>;\n}[number];\n\n// type FinalProps<P extends FinalPropsTemplate> = P extends VuePropsTemplate ? PropsTypes<P> : P extends Record<string, TPropType<any>> ? PropsTypesFlat<P> : any;\n\n/**\n * A simple function wrapper that accepts a standard vue props object definition and a setup function and adds props to the setup function definition\n *\n * @param props a props object definition\n * @param setup vue composition api setup function\n * @returns the same setup function\n */\nexport const withProps: {\n  <\n    P extends ObjectPropsTemplate,\n    S extends FunctionalComponent<ExtractPropTypes<P>>\n  >(props: P, setup: S): S;\n\n  <\n    P extends Readonly<Array<string>>,\n    S extends FunctionalComponent<ExtractArrayPropTypes<P>>\n  >(props: P, setup: S): S\n} = <\n  P extends Readonly<ObjectPropsTemplate>,\n  S extends FunctionalComponent<ExtractPropTypes<P>>\n>(props: P, setup: S): S => {\n  (setup as any).props = props;\n\n  return setup;\n};\n"],"names":["options","props","setup"],"mappings":"4NAMoB,SAAIA,UAAqBA,eA6BzC,SAGFC,EAAUC,UACTA,EAAcD,MAAQA,EAEhBC"}